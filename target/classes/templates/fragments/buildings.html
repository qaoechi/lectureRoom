<main th:fragment="buildings" id="building-main">
    <form th:action="@{/jumjari/client/move-building}" method="post" id="buildingForm">
        건물(최소 하나 입력): 
        <label for="buildingOption"></label>
        <select name="option" id="buildingOption">
            <option value="">건물을 선택하세요</option>
            <option th:each="b : ${buildings}"
            th:value="${b.engShort}"
            th:text="${b.korFull}"></option>
        </select>
        <input type="text" name="string" id="inputName">
        <button type="submit">이동</button>
    </form>

    <div id="map"></div>

    <script th:inline="javascript">
        const buildings = /*[[${buildings}]]*/ [];
        document.getElementById("buildingForm").addEventListener("submit", event => {
        const select = document.getElementById("buildingOption");
        const input = document.getElementById("inputName");
        try {
            preventSubmit(select, "콤보박스, 입력창 둘 중 하나라도 입력하세요", select.value === "" && input.value === "", event);
            // preventSubmit(input, "건물을 입력하세요", select.value === "" && input.value === "", event);
        } catch (e) {
            console.log(e.message);
        }
})
    </script>
    <script type="text/javascript" src="https://oapi.map.naver.com/openapi/v3/maps.js?ncpKeyId=oro4oz4a78"></script>
    <script th:src="@{/js/general.js}"></script>
    <script th:src="@{/js/bulidingMap.js}"></script>
</main>